<!doctype html>
<html lang='en'>
<head>
  <meta charset='utf-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <title>NIyantri Coffee - Cart</title>
  <meta name='description' content='Your cart for NIyantri Coffee.'>
  <script src='https://cdn.tailwindcss.com'></script>
</head>
<body class='opacity-0 transition-all duration-700'>
  <header class='bg-white shadow-md fixed w-full z-40'>
    <nav class='max-w-7xl mx-auto px-4 sm:px-6 lg:px-8' aria-label='Top'>
      <div class='flex items-center justify-between h-16'>
        <a href='index.html' class='text-2xl font-bold text-yellow-700'>NIyantri</a>
        <div class='hidden md:flex items-center space-x-6'>
          <a href='index.html' class='text-gray-700 hover:text-yellow-600 transition-all duration-300'>Home</a>
          <a href='about.html' class='text-gray-700 hover:text-yellow-600 transition-all duration-300'>About</a>
          <a href='contact.html' class='text-gray-700 hover:text-yellow-600 transition-all duration-300'>Contact</a>
          <a href='cart.html' class='text-gray-700 hover:text-yellow-600 transition-all duration-300'>Cart</a>
          <a href='checkout.html' class='bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600 transition-all duration-300'>Checkout</a>
        </div>
        <button id='navToggle' aria-label='Toggle navigation' class='md:hidden text-gray-700'>
          <svg xmlns='http://www.w3.org/2000/svg' class='h-6 w-6' fill='none' viewBox='0 0 24 24' stroke='currentColor'>
            <path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M4 6h16M4 12h16M4 18h16' />
          </svg>
        </button>
      </div>
    </nav>
  </header>
  <main class='max-w-5xl mx-auto px-4 py-16'>
    <h1 class='text-3xl font-bold mb-6'>Your Cart</h1>
    <section id='cartSection' aria-label='Cart items'>
      <div id='cartItems' class='space-y-4'></div>
      <div id='emptyCart' class='text-gray-600' style='display:none'>Your cart is empty. Go add some coffee!</div>
    </section>
    <div class='mt-6 flex flex-wrap gap-3'>
      <a href='index.html' class='px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition-all duration-300'>Continue Shopping</a>
      <a href='checkout.html' class='px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-all duration-300'>Proceed to Checkout</a>
    </div>
  </main>
  <footer class='bg-gray-900 text-gray-100'>
    <div class='max-w-7xl mx-auto px-4 py-12 grid grid-cols-1 md:grid-cols-3 gap-8'>
      <div>
        <h4 class='text-lg font-semibold mb-2'>NIyantri Coffee</h4>
        <p class='text-sm text-gray-400'>Nadargul, Telangana, India</p>
      </div>
      <div>
        <h5 class='text-sm uppercase mb-2 tracking-wider'>Quick Links</h5>
        <ul class='space-y-2 text-sm'>
          <li><a href='index.html' class='hover:text-yellow-400 transition-all duration-300'>Home</a></li>
          <li><a href='about.html' class='hover:text-yellow-400 transition-all duration-300'>About</a></li>
          <li><a href='contact.html' class='hover:text-yellow-400 transition-all duration-300'>Contact</a></li>
        </ul>
      </div>
      <div>
        <h5 class='text-sm uppercase mb-2 tracking-wider'>Newsletter</h5>
        <form onsubmit='return false;' class='flex'>
          <input aria-label='Email' type='email' placeholder='Your email' class='w-full px-3 py-2 rounded bg-gray-800 text-white outline-none'>
          <button class='px-3 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition-all duration-300'>Join</button>
        </form>
      </div>
    </div>
    <hr class='border-gray-700'>
    <p class='text-center py-3 text-sm text-gray-400'>© 2025 NIyantri Coffee</p>
  </footer>

  <script>
    window.addEventListener('load', () => { document.body.classList.remove('opacity-0'); loadCart(); });
    function loadCart(){
      const cart = JSON.parse(localStorage.getItem('niyantri_cart') || '[]');
      const container = document.getElementById('cartItems');
      const empty = document.getElementById('emptyCart');
      if(cart.length === 0){ empty.style.display = 'block'; container.innerHTML = ''; return; }
      empty.style.display = 'none';
      container.innerHTML = cart.map(item => `
        <div class='flex items-center justify-between bg-white rounded-lg shadow p-4'>
          <div class='flex items-center'>
            <div class='h-12 w-12 bg-gray-200 rounded mr-4 flex items-center justify-center'>
              <span class='text-sm'>☕</span>
            </div>
            <div>
              <div class='font-semibold'>${item.name}</div>
              <div class='text-sm text-gray-500'>${item.qty} × $${item.price.toFixed(2)}</div>
            </div>
          </div>
          <div class='flex items-center gap-2'>
            <input type='number' min='1' value='${item.qty}' data-id='${item.id}' class='qty w-16 px-2 py-1 border rounded' />
            <button class='remove-from-cart px-2 py-1 bg-red-500 text-white rounded hover:bg-red-600 transition-all duration-300' data-id='${item.id}'>Remove</button>
          </div>
        </div>`).join('');
      // attach handlers
      document.querySelectorAll('.qty').forEach(el => el.addEventListener('change', (e)=>{
        const id = e.target.dataset.id;
        const newQty = parseInt(e.target.value) || 1;
        let c = JSON.parse(localStorage.getItem('niyantri_cart') || '[]');
        c = c.map(it => it.id === id ? {...it, qty: newQty} : it);
        localStorage.setItem('niyantri_cart', JSON.stringify(c));
        loadCart();
      }));
      document.querySelectorAll('.remove-from-cart').forEach(btn => btn.addEventListener('click', (e)=>{
        const id = e.target.dataset.id;
        let c = JSON.parse(localStorage.getItem('niyantri_cart') || '[]');
        c = c.filter(it => it.id !== id);
        localStorage.setItem('niyantri_cart', JSON.stringify(c));
        loadCart();
      }));
    }
  </script>
</body>
</html>